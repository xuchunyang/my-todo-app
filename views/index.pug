doctype html
html
  head
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1")
    title My Todo App
    link(rel="stylesheet" href="style.css")
  body
    h1 My Todo App

    if user
      p Welcome #{user}! <a href="/logout">Logout</a>.
      p You have #{todos.length} todos.
      ul
        for item in todos
          li #{item.content}
      h2 Add todo
      form(action="/todo/add" method="get")
        p
          label(for="todo") Enter todo:
          input#todo(name="content" type="text" required)
          button Add
    else
      h2 Login
      form(action="/login" method="get")
        p
          label(for="login-username") Username:
          input#login-username(name="username" type="text" autocomplete="username" required="")
        p
          label(for="login-password") Password:
          input#login-password(name="password" type="password" autocomplete="current-password" required="")
        p
          button Login
        if loginError
          p= loginError
      h2 Signup
      form(action="/signup" method="get")
        p
          label(for="username") Username:
          input#username(name="username" type="text" autocomplete="username" required="")
        p
          label(for="password") Password:
          input#password(name="password" type="password" autocomplete="new-password" required="")
        p
          button Signup
        if signupError
          p= signupError
